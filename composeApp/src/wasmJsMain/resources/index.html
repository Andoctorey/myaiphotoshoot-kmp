<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"/>
    <meta name="theme-color" content="#f2edf6" media="(prefers-color-scheme: light)"/>
    <meta name="theme-color" content="#211f25" media="(prefers-color-scheme: dark)"/>
    <meta name="mobile-web-app-capable" content="yes"/>
    <meta
            name="description"
            content="Upload Selfies, Train AI, Prompt & Play – All for $0.03 Per Photo, No Subs!"
    />

    <link rel="manifest" href="manifest.json"/>
    <link rel="icon" type="image/x-icon" sizes="16x16" href="./images/icon_16.png"/>
    <link rel="icon" type="image/x-icon" sizes="32x32" href="./images/icon_32.png"/>
    <link rel="icon" type="image/x-icon" sizes="192x192" href="./images/icon_192.png"/>
    <link rel="apple-touch-icon" sizes="180x180" href="./images/icon_180.png">

    <link type="text/css" rel="stylesheet" href="styles.css"/>

    <title>My AI Photo Shoot</title>

    <!-- Import map for Firebase modules -->
    <script type="importmap">
        {
          "imports": {
            "firebase/app": "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js",
            "firebase/analytics": "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js"
          }
        }
    </script>

    <script type="module" src="firebase-init.js"></script>

    <!--suppress HtmlUnknownTarget -->
    <script defer type="application/javascript" src="composeApp.js?v=642"></script>

    <noscript>
        <p>This app requires JavaScript to run. Please enable JavaScript in your browser.</p>
    </noscript>
</head>

<body>
<div id="loading">
    <div class="spinner"></div>
</div>


<div id="warning" style="display: none;">
    ⚠️ Please make sure that your runtime environment supports the latest version of Wasm GC and
    Exception-Handling proposals.
    For more information, see<a href="https://kotl.in/wasm-help">https://kotl.in/wasm-help</a>.
    <br/><br/>
    <ul>
        <li>
            If you are using <b>Chrome</b>, <b>Edge</b>, <b>Brave</b>, or any other Chromium-based
            browser, please update to version 119 or later.
        </li>
        <li>
            If you are using <b>Firefox</b>, please update to version 120 or later.
        </li>
        <li>
            If you are using <b>Safari</b>, please update to version 18 or later.
        </li>
    </ul>
</div>
</body>

<script>
    function getBrowserInfo() {
        const ua = navigator.userAgent;
        if (/Firefox\/(\d+)/.test(ua)) {
            return { browser: "Firefox", version: parseInt(RegExp.$1) };
        }
        else if (/Chrome\/(\d+)/.test(ua)) {
            return { browser: "Chrome", version: parseInt(RegExp.$1) };
        }
        else if (/Version\/(\d+)/.test(ua) && /Safari\//.test(ua)) {
            return { browser: "Safari", version: parseInt(RegExp.$1) };
        }
        return { browser: "unknown", version: 0 };
    }

    const { browser, version } = getBrowserInfo();
    if (
        (browser === "Safari" && version < 18) ||
        (browser === "Firefox" && version < 120) ||
        (browser === "Chrome" && version < 119)
    ) {
        document.getElementById("warning").style.display = "block";
    }
</script>

</html>
